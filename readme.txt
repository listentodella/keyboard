
/*1.要用的i2c master
 *2.IC的i2c地址 0x101 10?? ??由硬件接线决定 0x5?
 *3.用到的中断号，根据spec看应该是2个中断，port0和port1的，但是和cpu相连的是INT SDA SCL
 *4.i2c读写操作符合标准i2c
*/

/*
*引脚 INT SDA SCL
*支持硬件复位、软件复位、上电复位
* 硬件复位：应该是指GPIO拉低
*软件复位：通过i2c对软复位寄存器7E  写数据00
*/

/*
GPIO输入、输出方向配置
Config_Port0 设置端口0的输入、输出状态
Config_Port1 设置端口1的输入、输出状态
寄存器每一位对应某个GPIO端口，置1代表输入，置0代表输出
寄存器04H 的第7 至第0 位依次对应P0_7~P0_0 的配置控制，05H 的第7 至第0 位依次对应P1_7~P1_0 的配置控制
默认为0

其中通过i2c接口读Input_Port0 Input_Port1可获得当前GPIO端口逻辑状态，0代表低电平，1代表高电平
每个位对应一个
寄存器00H 的第7 至第0 位依次对应P0_7~P0_0 的输入状态，01H 的第7 至第0 位依次对应P1_7~P1_0 的输入状态。

------------>>>>>>>>>>>>>>>>通过i2c读这两个寄存器就可以获得想要的数据，通过i2c写就可以进行相应的配置


其中，GPIO口上电后的默认状态都是GPIO模式，且为输出状态，输出默认值与AD1 AD0的电平状态有关
1.当前的状态是AD1 AD0 为 1 1
  因此P1_0~P1_7 默认输出都为 1，而P0_0~P0_7默认输出都为Hi-Z

2.P0_0/1 和 P1_0/1作为背光的20mA输入，即做LED模式
  即PORT0的第0,1bit ====== led ,2个口共同驱动一个LEDK1
    PORT1的第0,1bit ====== led ,2个口共同驱动一个LEDK2
  那么P0_0/1每个口输出的电流各为10mA,P1_0/1同理

3.然后选了4个作为行输入(P1_3,4,5,6)，3个作为列输入(P0_3,4,5)，共12个矩阵按键，即作GPIO模式
  即PORT0的第3,4,5 bit ===== GPIO输入模式  //有上拉电阻
    PORT1的第3,4,5,6 bit ===== GPIO输出模式//用来循环拉低

因此PORT0: 0 0 GPIO5 GPIO4 GPIO3  0 led led
    PORT1: 0 GPIO6 GPIO5 GPIO4 GPIO3 0 led led
*************************************************************************
*************************************************************************
☆对应的寄存器设置：
  GPIO输入、输出方向选择 寄存器,默认值为00H,1为输入，0为输出
  CONFIG_PORT0 0x04 : 0011 1000   ==== 0x38
  CONFIG_PORT1 0x05 : 0000 0000   ==== 0x00

  GPIO输出状态设置：用以设置GPIO输出模式的端口，上电后默认状态与AD0 AD1有关，该设置对输入模式的端口无效
  0输出低电平 1输出高电平
  对于行线，port1_3,4,5,6 由于是输出模式，可以配置；对于列线，port0_3,4,5 由于是输入模式，不予配置
  OUTPUT_PORT0 0x02:1100 0111 0xC7 
  OUTPUT_PORT1 0X03:1111 1111 0xFF

  GPIO输入状态：用以反映当前端口的逻辑状态，不论端口是输入模式还是输出模式，0为低电平，1为高电平
  对于行线，port1_3,4,5,6 由于是输出模式且配置为1，因此读到的状态应该都是1；对于列线，port0_3,4,5, 由于是输入模式，因此读到的状态与实际的状态应该一致
  INPUT_PORT0 0x00：11XX X111
  INPUT_PORT1 0x01：1111 1111

  LED模式切换寄存器0x12,0x13分别对应0口，1口，位值0为led，1为gpio,默认为FFH
  0x12:1111 1100      ===== 0xFC
  0x13:1111 1100      ===== 0xFC

  led最大电流Imax设置寄存器0x11的第0,1bit,默认00，干脆就不设了吧,则Imax=37mA
  ISEL 0000 00 00

  调光配置寄存器,默认值为00H，将值设为0x40,则对应的口输出电流为Imax的1/2
  0x20 DIM0 对应p1_0
  0x21 DIM1 对应p1_1
  0x24 DIM4 对应p0_0
  0x25 DIM5 对应p0_1


  中断使能寄存器，默认值为00H,只有GPIO为输入模式时，输入状态的变化才可以引起中断，并拉低INT脚，0使能，1不使能
  INT_PORT0 0x06：1100 0111 ====== 0xC7
  INT_PORT1 0x07：1111 1111 ====== 0xFF


此外，
I2C ===== FC6,
INT ===== P0_22,
RST ===== P3_11



*/

/*中断
寄存器06H 的第7 至第0 位依次对应P0_7~P0_0 的中断使能，07H 的第7 至第0 位依次对应P1_7~P1_0 的中断使能。
读对应的端口对应的寄存器才能够清楚该端口产生的中断

*/
